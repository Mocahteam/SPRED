{
"armies" :
	[
		{
		"faction" : "PLAYER",
		"units" : 
			[
				{
				"id":"unitID",
				"visibleAtStart":"yes",
				"type":"bit",
				"position":
					{
					"positionId":"bitPosition",
					"validZone":"no"
					},
				"orientation" :"n",
				"health":{
					"relativeValue":"0.25",
					"autoHeal":"disabled"
					}
				}
			]
		},
		{
		"faction" : "ALLY",
		"units" : 
			[	
				{
				"id":"lostUnit",
				"visibleAtStart":"yes",
				"type":"byte",
				"position":
					{
					"positionId":"byteStartingPosition",
					"validZone":"no"
					},
				"orientation" :"s",
				"health":{
					"relativeValue":"0.25",
					"autoHeal":"disabled"
					}
				}
			]
		},
		{
		"faction" : "ENNEMY",
		"units" : 
			[	
				{
				"id":"ennemyBit",
				"visibleAtStart":"yes",
				"type":"bit",
				"position":
					{
					"positionId":"ennemyBitStartingPosition",
					"validZone":"no"
					},
				"orientation" :"s",
				"health":{
					"relativeValue":"0.25",
					"autoHeal":"disabled"
					}
				}
			]
		}
	],
"settings":
	{
		"mouse":"disabled",
		"globalAutoHeal":"disabled",
		"health":{
			"relativeValue":"0.25",
			"autoHeal":"disabled"
		},
		"camera":
		{
			"auto":"enabled"
		}	
	},
"messages":
	[
		{
		"id":"BRIEFING",
		"content":
			{
			"fr":"Mission 3\n \n \nATTENTION !!! Cet OCTET (BYTE) tentait de semer un éclaireur ennemi qui ne doit pas être loin. Protégez le avant qu'il ne soit trop tard.\n \n..gray..Appuyez sur Echap pour continuer"
			,
			"en":"Mission 3\n \n \nWARNING !!! This BYTE attempted to escape an enemy scout that is not far. Protect this BYTE before it's too late.\n \n..gray..Press Escape to continue"
			}
		},
		{
		"id":"crying",
		"content":
			[
			{"fr":"Aidez moi !!!" ,"en":"Help me !!!"},
			{"fr":"S'il vous plait..." ,"en":"Please..."},
			{"fr":"AAaarghh" ,"en":"AAaarghh"},
			{"fr":"J'ai besoin d'aide" ,"en":"I need help"},
			{"fr":"Que faites vous ?" ,"en":"What do you do?"},
			{"fr":"Je ne tiendrai\npas longtemps" ,"en":"I won't resist\na long time"},
			{"fr":"Mon energie diminue" ,"en":"My energy weakens"},
			{"fr":"Il m'en met\nplein la gueule" ,"en":"He beats me up"},
			{"fr":"Noooonnn" ,"en":"Noooonnn"}
			]
		}
	],
"positions":
	[
		{
		"id":"bitPosition",
		"type":"static",
		"coordinates":"absolute",
		"x":"1056",
		"z":"1900"
		},
		{
		"id":"byteStartingPosition",
		"type":"static",
		"coordinates":"relative",
		"origin":"bitPosition",
		"dx":"0",
		"dz":"-100"
		},
		{
		"id":"byteCurrentPosition",
		"type":"dynamic",
		"updatedAccording":"lostUnit",
		"coordinates":"absolute",
		"x":"1056",
		"z":"1792"
		},
		{
		"id":"ennemyBitStartingPosition",
		"type":"static",
		"coordinates":"absolute",
		"x":"600",
		"z":"600"
		}
	],
"conditions":
	[
		{
		"id":"f100",
		"object":"frameNumber",
		"attribute":"frameNumber",
		"value":
			{
			"superiorTo":"20",
			"inferiorTo":"100"
			}
		},
		{
		"id":"deadPlayer",
		"object":"PLAYER",
		"attribute":"dead",
		"value":
			{
			"group":"all"
			}
		},
		{
		"id":"lostUnitisMoving",
		"object":"lostUnit",
		"attribute":"action",
		"value":
			{
			"action":"moving"
			}
		},
		{
		"id":"deadAlly",
		"object":"lostUnit",
		"attribute":"dead",
		"value":
			{
			"dead":"dead"
			}
		},
		{
		"id":"deadEnnemy",
		"object":"ennemyBit",
		"attribute":"dead",
		"value":
			{
			"dead":"dead"
			}
		},		
		{
		"id":"allyUnderAttack",
		"object":"lostUnit",
		"attribute":"underAttack"
		}
	],
"actions":
	[
		{
		"id":"transferUnit",
		"toBeRepeated":"no",
		"delay":"0",
		"type":"transfert",
		"object":"lostUnit",
		"factionReceiving":"PLAYER"
		},
		{
		"id":"victory",
		"toBeRepeated":"no",
		"delay":"10",
		"type":"end",
		"outputState":"1111",
		"result":"success"
		},
		{
		"id":"defeat",
		"toBeRepeated":"no",
		"delay":"10",
		"type":"end",
		"outputState":"1111",
		"result":"defeat"
		},
		{
		"id":"startingAgression",
		"toBeRepeated":"no",
		"delay":"0",
		"type":"attack",
		"object":"ennemyBit",
		"attacked":"lostUnit"
		},
		{
		"id":"holdFireAlly",
		"toBeRepeated":"no",
		"delay":"0",
		"type":"noFire",
		"object":"lostUnit"
		},
		{
		"id":"holdFirePlayer",
		"toBeRepeated":"no",
		"delay":"0",
		"type":"noFire",
		"object":"unitID"
		},
		{
		"id":"AllyMoving",
		"toBeRepeated":"yes",
		"delay":"0",
		"type":"move",
		"object":"lostUnit",
		"position":
			{
			"positionId":"byteStartingPosition",
			"validZone":"100"
			}
		},
		{
		"id":"AllyCryingForHelp",
		"toBeRepeated":"yes",
		"delay":"100",
		"type":"marker",
		"position":
			{
			"positionId":"byteCurrentPosition",
			"validZone":"no"
			},
		"messageId":"crying"
		},
		{
		"id":"deletingMarker",
		"toBeRepeated":"yes",
		"delay":"160",
		"type":"erasemarker",
		"position":
			{
			"positionId":"byteCurrentPosition",
			"validZone":"no"
			}
		},
		{
		"id":"deletingMarkerFast",
		"toBeRepeated":"yes",
		"delay":"0",
		"type":"erasemarker",
		"position":
			{
			"positionId":"byteCurrentPosition",
			"validZone":"no"
			}
		}
	],
"events":
	[
		{
		"idEvent":"deadEnnemyEvent",
		"trigger":"deadEnnemy",
		"actions":
			[
			{"actionId":"deletingMarkerFast"},
			{"actionId":"transferUnit"},
			{"actionId":"victory"}
			]
		},
		{
		"idEvent":"death",
		"trigger":"deadAlly or deadPlayer",
		"actions":
			[
			{"actionId":"deletingMarkerFast"},
			{"actionId":"defeat"}
			]
		},
		{
		"idEvent":"STARTEvent",
		"trigger":"START",
		"actions":
			[
			{"actionId":"startingAgression"},
			{"actionId":"holdFireAlly"},
			{"actionId":"holdFirePlayer"}
			]
		},
		{
		"idEvent":"hasStopped",
		"trigger":"(not lostUnitisMoving)and(allyUnderAttack)",
		"actions":
			[
			{"actionId":"AllyMoving"},
			{"actionId":"AllyCryingForHelp"},
			{"actionId":"deletingMarker"}
			]
		}
	],
"tests":
	[
		{
		"title":"shouldDieWithTime",
		"script":"nil",
		"timeout":"40",
		"expectedEvents":
			[
			{"idEvent":"death" ,"stopTest":"yes"}
			],
		"unexpectedEvents":[]
		}
	]
}